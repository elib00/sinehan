{% load static %}

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">


    <link rel="stylesheet" href="{% static 'css/main.css' %}"/>
    <link rel="stylesheet" href="{% static 'css/navbar.css' %}">

    
    <script src="https://code.jquery.com/jquery-3.7.0.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>


    <div class="banner active" id="banner-container">
        <div class="content" id="content-container">

            <h4>
                Mas Sayon ang pag Sine!
            </h4>
            <p>
                Sinehan makes booking movie tickets effortless. Explore showtimes, select your favorite seats, and secure tickets instantly from the comfort of your home. Experience hassle-free ticketing with a sleek, user-friendly platform designed for movie lovers.
            </p>
            <div class="button">
                <a href="#">  Book Now</a>
            </div>
            
        </div>

      <div class="carousel-box">
        <div class="carousel" id="caraousel-container">
          
      </div>
    </div>
    

   
     <script src="{% static 'js/script.js' %}"></script>
     <script>
        const carousel = document.getElementById("caraousel-container");
        let movies = (`{{ movies_json|safe }}`);
        movies = JSON.parse(movies);

        let content = "";

        movies.forEach(item => {
            content += `<a class="carousel-item" data-landscape="${item.fields.poster_landscape}" onclick="changeBG('${item.fields.poster_landscape}')"><img src="/media/${item.fields.poster_portrait}" alt=""></a>`;
        });

        carousel.innerHTML = content;





        let home_descriptions = [
            `<h4>
                Sinehan: Ang Pinakasayon nga Ticketing Platform!
            </h4>
            <p>
                Enjoy the easiest way to book your movie tickets online. Check showtimes, reserve seats, and get ready for a cinematic experience with just a few clicks. No lines, no hassle—just pure convenience!
            </p>
            <div class="button">
                <a href="#">Book Your Tickets</a>
            </div>`,
            `<h4>
                Transform Your Movie Night!
            </h4>
            <p>
                Sinehan makes every movie night memorable. From browsing showtimes to securing the best seats, everything is designed to be simple and fast. Start your adventure today!
            </p>
            <div class="button">
                <a href="#">Reserve Now</a>
            </div>`,
            `<h4>
                Masayon, Malingaw, Ug Paspas!
            </h4>
            <p>
                Sinehan ensures a seamless way to book your movie tickets. Check show schedules, pick your favorite seats, and confirm your tickets effortlessly. Simple. Convenient. Fun.
            </p>
            <div class="button">
                <a href="#">Get Tickets</a>
            </div>`,
            `<h4>
                Watch Movies Made Easy!
            </h4>
            <p>
                Discover showtimes, reserve your seat, and book tickets—all in one place. Sinehan is your go-to platform for a seamless ticketing experience.
            </p>
            <div class="button">
                <a href="#">Buy Tickets</a>
            </div>`
        ];

       


        let banner_container = document.getElementById('banner-container');

        // Select all carousel items
        const carouselItems = document.querySelectorAll('.carousel-item');

        console.log(carouselItems);
        // Listen for click or other events that toggle the 'active' class
        carouselItems.forEach(item => {
            item.addEventListener('click', () => {
                if (item.classList.contains('active')) {
                    //banner_container.style.backgroundImage = `url("${item['data-landscape']}")`; 
                    console.log(item['data-landscape']);
                }
            });
        });

        function changeBG(path){
            banner_container.style.backgroundImage = `url("/media/${path}")`; 
        }

        let content_container = document.getElementById('content-container');
        let index = 0; 

        function changeContent() {
            setInterval(() => {
                description_index = Math.floor(Math.random() * home_descriptions.length);
                
                content_container.innerHTML = home_descriptions[description_index];
                
                gsap.fromTo(content_container, 
                    { scale: 0.5, opacity: 0 },  
                    { scale: 1, opacity: 1, duration: 2 }
                );


            }, 6000);
        }

        // Call the function to start the content rotation
        changeContent();

        




       $(document).ready(function(){
      $('.carousel').carousel();
       });
     </script>


